# The following properties are required for pharmrxiv (productive) deployment.
# For productive deployment, all properties must be configured or enabled.
# Only relevant properties should be listed here; otherwise, they should be deleted.
# Unless otherwise specified, empty properties are relevant and must be configured.
# Temporary disabled properties require further configuration or other dependencies.

###############################################################################
# Basic                                                                       #
###############################################################################
# Configure base url, e.g. http://domain:port, without '/'. Temporary disabled to use default.
#MCR.baseurl=
MCR.NameOfProject=pharmrxiv
MIR.projectid.default=pharmrxiv
MIR.testEnvironment=false

##############################################################################
# Email                                                                      #
##############################################################################
MCR.Mail.Server=
# General sender mail address, e.g. mail@domain
MCR.Mail.Sender=%MCR.mir-module.MailSender%
# Editor mail adresses for messages, e.g. mail@domain0,amail@domain1,..n.
MCR.Mail.Address=

# Mail for events including self registration, e.g. <name> mail@domain
MCR.mir-module.EditorMail=
# Sender email for events, e.g. <name> mail@domain
MCR.mir-module.MailSender=

# Mail for unpaywall requests, e.g. mail@domain
MIR.OADOI.Mail.Address=pubpharm@tu-braunschweig.de

###############################################################################
# Access Control                                                              #
###############################################################################
# Access keys are not relevant and must therefore be deactivated as follows.
MCR.ACL.AccessKey.Strategy.AllowedObjectTypes=
# Include state classification to access strategy.
MIR.Access.Strategy.Classifications=mir_access,state
# Handle imported state also as 'submitted' state.
MCR.Access.Strategy.SubmittedCategory=state:submitted,state:imported
# Grant author all permissions while document is in state submitted.
MCR.Access.Strategy.CreatorPermissions=read,writedb,view-derivate,deletedb

##############################################################################
# DOI                                                                        #
##############################################################################
MCR.DOI.Prefix=10.57747
MCR.DOI.HostingInstitution=Fachinformationsdienst f\u00FCr Pharmazie

# Configuration is required, therefore service temporary disabled.
#MCR.PI.Service.Datacite=org.mycore.pi.doi.MCRDOIService
MCR.PI.Service.Datacite.MetadataService=MODSDOI
MCR.PI.Service.Datacite.Username=
MCR.PI.Service.Datacite.Password=
MCR.PI.Service.Datacite.RegisterBaseURL=%MCR.baseurl%
MCR.PI.Service.Datacite.RegistrationPredicate=org.mycore.pi.condition.MCRPIPublishedPredicate
MCR.PI.Service.Datacite.Transformer=datacite
MCR.PI.Service.Datacite.Generator=pharmrxivDOI

MCR.PI.Generator.pharmrxivDOI=org.mycore.pi.MCRGenericPIGenerator
MCR.PI.Generator.pharmrxivDOI.CountPrecision=3
MCR.PI.Generator.pharmrxivDOI.DateFormat=YYYYMMDDhhmm
MCR.PI.Generator.pharmrxivDOI.GeneralPattern=%MCR.DOI.Prefix%/%MIR.projectid.default=%-$ObjectDate-$Count
MCR.PI.Generator.pharmrxivDOI.Type=doi

##############################################################################
# URN                                                                        #
##############################################################################
MCR.PI.Generator.TypeYearCountURN.Namespace=urn:nbn:de:0307
MCR.PI.Generator.TypeYearCountURN.DateFormat=yyyyMMdd
MCR.PI.Generator.TypeYearCountURN.CountPrecision=3

##############################################################################
# ePuSta                                                                     #
##############################################################################
# ePuSta endpoint is required, therefore temporarily disabled.
#MIR.ePuSta=show
MIR.ePuSta.GraphProviderURL=
MIR.ePuSta.Prefix=

##############################################################################
# OAI Data Provider                                                          #
##############################################################################
MCR.OAIDataProvider.OAI2.RepositoryName=pharmRxiv - Fachinformationsdienst Pharmazie
MCR.OAIDataProvider.OAI2.RepositoryIdentifier=%MCR.baseurl%/
MCR.OAIDataProvider.OAI2.AdminEmail=pharmrxiv@tu-braunschweig.de
MCR.OAIDataProvider.OAI2.RecordSampleID=%MIR.projectid.default%_mods_00000321
MCR.OAIDataProvider.OAI2.DescriptionURI.EPrints=webapp:oai/oai-eprints.xml
MCR.OAIDataProvider.OAI2.DescriptionURI.Rights=webapp:oai/ooai-rights.xml

MCR.OAIDataProvider.OAI2.Sets=%MCR.OAIDataProvider.OAI2.Sets%,lza
MCR.OAIDataProvider.OAI2.Sets.lza.URI=webapp:oai/set_lza.xml
MCR.OAIDataProvider.OAI2.Sets.lza.Query=objectType:mods AND state:published AND derCount:[1 TO *] AND NOT ((createdby:deepgreen)  OR (mods.genre:research_data) OR (mods.genre:video))

# Switch to DINI2022 conformity
MIR.xMetaDissPlus.diniPublType.classificationId=diniPublType2022
MIR.dc.diniPublType.classificationId=diniPublType2022
MIR.dc.ignoredClassificationIds=diniPublType
MCR.OAIDataProvider.OAI2.Sets.doc-type.URI=xslStyle:classification2sets:classification:metadata:2:children:diniPublType2022
MCR.OAIDataProvider.OAI2.Sets.doc-type.Classification=diniPublType2022

##############################################################################
# Editor                                                                     #
##############################################################################
MIR.EditorForms.CustomIncludes=%MIR.EditorForms.CustomIncludes%,xslStyle:editor/mir2xeditor:webapp:editor/editor-customization.xed
# Exclude blog genre from licence validation.
MIR.Editor.Validate.Genre.Licence=journal newspaper series lecture

##############################################################################
# Frontend                                                                   #
##############################################################################
MIR.CustomLayout.JS=pharmrxiv.js
# Add series layout.
MIR.Layout.End=mir-edit,series-banner,series-layout,mir-citation,mir-epusta,mir-access-rights,mir-export,mir-admindata,mir-historydata
MCR.LayoutTransformerFactory.Default.Ignore=mycoreobject-rss,%MCR.LayoutTransformerFactory.Default.Ignore%

##############################################################################
# SOLR                                                                       #
##############################################################################
MCR.Solr.NestedDocuments=true

##############################################################################
# Citation                                                                   #
##############################################################################
# Adapt seperated list of styles, look here http://crosscite.org/citeproc/.
MIR.citationStyles=din-1505-2,apa,elsevier-harvard,springer-basic-author-date
MIR.defaultCitationStyle=din-1505-2

##############################################################################
# RSS                                                                        #
##############################################################################
DuEPublico.RSS.Generator=pharmRxiv\: Fachinformationsdienst Pharmazie, TU Braunschweig, Germany

##############################################################################
# DeepGreen                                                                  #
##############################################################################
MCR.Sword.Collection.IntR2Dok.DeepGreen=org.mycore.mir.sword2.MIRDeepGreenCollectionProvider
MCR.Sword.DeepGreen.Transformer=deepgreenjats2mods
MCR.Sword.DeepGreen.State=imported

MCR.ContentTransformer.deepgreenjats2mods.TransformerFactoryClass=net.sf.saxon.TransformerFactoryImpl
MCR.ContentTransformer.deepgreenjats2mods.Class=org.mycore.common.content.transformer.MCRXSLTransformer
MCR.ContentTransformer.deepgreenjats2mods.Stylesheet=xsl/sword/jats2mods.xsl

# When set to "embed", related host publication (journal) will be embedded.
# When set to "link", related host publication (journal) will be created and/or linked via @xlink:href.
MCR.ContentTransformer.deepgreenjats2mods.HostRelation=link
